<!DOCTYPE html>
<html lang="ca">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FURBY GALAXY 2000</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Comic+Neue:wght@700&family=VT323&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --neon-pink: #ff00ff;
            --neon-green: #39ff14;
            --neon-blue: #00ffff;
            --neon-yellow: #ffff00;
            --deep-purple: #240046;
        }

        * {
            box-sizing: border-box;
            cursor: url('https://cur.cursors-4u.net/mechanics/mec-1/mec4.cur'), auto;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: #050010;
            /* Fons "Via L√†ctea" iridescent */
            background-image:
                radial-gradient(circle at 20% 30%, rgba(255, 0, 255, 0.2) 0%, transparent 40%),
                radial-gradient(circle at 80% 70%, rgba(0, 255, 255, 0.2) 0%, transparent 40%),
                linear-gradient(125deg, transparent 0%, rgba(120, 0, 255, 0.15) 30%, rgba(255, 0, 150, 0.15) 70%, transparent 100%),
                url('https://media.giphy.com/media/U3qYN8S0j3bpK/giphy.gif');
            /* Estrelles retro */
            background-size: cover, cover, cover, 100px 100px;
            background-attachment: fixed;
            color: white;
            font-family: 'Comic Neue', cursive;
            height: 100vh;
            overflow: hidden;
            transition: filter 0.2s;
        }

        /* --- CAPA DE PURPURINA EXTRA --- */
        .glitter-layer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://media.giphy.com/media/U3qYN8S0j3bpK/giphy.gif');
            background-size: 300px;
            opacity: 0.15;
            pointer-events: none;
            z-index: 2;
            mix-blend-mode: screen;
        }

        .rainbow-border {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 8px solid transparent;
            border-image: linear-gradient(to bottom right, #ff00ff, #00ffff, #ffff00, #ff0000);
            border-image-slice: 1;
            pointer-events: none;
            z-index: 900;
            box-shadow: inset 0 0 20px #ff00ff;
        }

        /* --- ZONA DE FLOTACI√ì --- */
        #floating-zone {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10;
            overflow: hidden;
        }

        .floater {
            position: absolute;
            transition: transform 0.1s linear;
            /* Moviment suau JS */
            user-select: none;
            will-change: transform;
        }

        /* Furbys Decoratius */
        .floater.furby-deco img {
            filter: drop-shadow(0 0 8px var(--neon-pink));
            animation: wobble 3s infinite ease-in-out;
        }

        .friend-orb {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            /* Gradient Multicolor Animat */
            background: linear-gradient(45deg, #ff0000, #ff7300, #fffb00, #48ff00, #00ffd5, #002bff, #7a00ff, #ff00c8, #ff0000);
            background-size: 400%;
            animation: rainbowAnim 10s linear infinite, pulse 2s infinite;
            border: 2px solid white;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 0 15px white;
            text-align: center;
            font-family: 'VT323', monospace;
            font-size: 2rem;
            color: black;
            font-weight: bold;
            text-shadow: 1px 1px 0px white;
        }

        .friend-orb:hover {
            transform: scale(1.2) !important;
            border-color: var(--neon-yellow);
        }

        .friend-orb.discovered {
            background: radial-gradient(circle at 30% 30%, white, var(--neon-blue));
            font-size: 1.1rem;
            animation: none;
            box-shadow: 0 0 15px var(--neon-blue);
        }

        /* --- CONTINGUT DIAPOSITIVES --- */
        #presentation {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 20;
            pointer-events: none;
        }

        .slide {
            display: none;
            width: 90%;
            max-width: 800px;
            background: rgba(10, 0, 20, 0.85);
            border: 3px ridge var(--neon-blue);
            padding: 25px;
            text-align: center;
            animation: slideIn 0.5s ease-out;
            pointer-events: auto;
            backdrop-filter: blur(5px);
            box-shadow: 10px 10px 0px rgba(255, 0, 255, 0.3);

            margin-top: 80px;
            margin-bottom: 60px;
            /* Espai pels controls */
        }

        .slide.active {
            display: block;
        }

        h1 {
            font-family: 'Press Start 2P', cursive;
            color: var(--neon-yellow);
            text-shadow: 3px 3px 0px #ff00ff;
            font-size: 1.4rem;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        h2 {
            font-family: 'VT323', monospace;
            font-size: 2.2rem;
            color: var(--neon-green);
            text-shadow: 2px 2px 0px black;
            margin: 10px 0;
            border-bottom: 2px dashed var(--neon-pink);
            display: inline-block;
        }

        p {
            font-size: 1.3rem;
            text-shadow: 1px 1px 0px black;
            line-height: 1.4;
        }

        ul {
            text-align: left;
            font-size: 1.2rem;
            list-style-type: square;
            color: var(--neon-blue);
        }

        li {
            margin-bottom: 10px;
        }

        .marquee-top {
            position: fixed;
            top: 15px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            background: blue;
            color: white;
            font-family: 'VT323';
            font-size: 1.4rem;
            padding: 5px;
            border: 2px solid white;
            z-index: 100;
            pointer-events: none;
            transition: background 0.5s, border 0.5s;
        }

        /* --- CONTROLS --- */
        .controls {
            position: fixed;
            bottom: 30px;
            width: 100%;
            display: flex;
            justify-content: center;
            gap: 30px;
            z-index: 100;
            pointer-events: auto;
        }

        .btn-retro {
            background: linear-gradient(to bottom, #e0e0e0, #a0a0a0);
            border: 3px outset #fff;
            padding: 12px 30px;
            font-family: 'Press Start 2P';
            font-size: 0.9rem;
            cursor: pointer;
            color: black;
            box-shadow: 5px 5px 0px rgba(0, 0, 0, 0.5);
        }

        .btn-retro:active {
            border-style: inset;
            transform: translateY(3px);
            box-shadow: 2px 2px 0px rgba(0, 0, 0, 0.5);
        }

        .btn-retro:hover {
            background: white;
        }

        /* --- MODAL AMICS --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 200;
        }

        .modal-win95 {
            background: #c0c0c0;
            border: 3px outset white;
            width: 95%;
            max-width: 600px;
            padding: 3px;
            box-shadow: 20px 20px 0px rgba(0, 0, 0, 0.7);
            font-family: 'Arial', sans-serif;
            color: black;
            animation: popUp 0.3s;
        }

        .win95-header {
            background: navy;
            color: white;
            padding: 5px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .win95-close {
            background: #c0c0c0;
            color: black;
            border: 2px outset white;
            width: 20px;
            height: 20px;
            text-align: center;
            line-height: 16px;
            cursor: pointer;
            font-weight: bold;
        }

        .win95-body {
            padding: 15px;
            text-align: center;
            border: 2px inset white;
            margin-top: 2px;
            background: #fff;
        }

        .friend-pic {
            width: 100%;
            height: auto;
            max-height: 60vh;
            object-fit: cover;
            border: 2px solid black;
            margin-bottom: 10px;
            background: #eee;
        }

        /* --- NOUS ESTILS (COMPTADOR I BOT√ì BROMA) --- */
        .visitor-counter {
            position: fixed;
            bottom: 15px;
            right: 15px;
            background: black;
            border: 4px inset #666;
            color: red;
            font-family: 'VT323', monospace;
            font-size: 1.5rem;
            padding: 5px 15px;
            z-index: 1000;
            box-shadow: 0 0 10px red;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-shadow: 0 0 5px red;
            pointer-events: none;
        }

        .visitor-label {
            font-size: 0.8rem;
            color: #aaa;
            margin-bottom: 2px;
            text-shadow: none;
        }

        #runaway-btn {
            position: fixed;
            top: 20%;
            left: 5%;
            background: #ff0000;
            color: yellow;
            font-family: 'Press Start 2P', cursive;
            font-size: 0.6rem;
            padding: 10px;
            border: 3px outset white;
            z-index: 999;
            cursor: pointer;
            box-shadow: 5px 5px 0px rgba(0, 0, 0, 0.5);
            transition: top 0.1s, left 0.1s;
        }

        /* --- NSA OVERLAY --- */
        .nsa-warning {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: repeating-linear-gradient(45deg,
                    #ff0000,
                    #ff0000 20px,
                    #000000 20px,
                    #000000 40px);
            color: yellow;
            font-family: 'Press Start 2P', cursive;
            font-size: 2rem;
            text-align: center;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            text-shadow: 3px 3px 0 black;
            border: 10px solid yellow;
            padding: 20px;
            line-height: 1.5;
        }

        .nsa-warning.active {
            display: flex;
            animation: flashWarning 0.5s infinite;
        }

        .nsa-close-btn {
            margin-top: 50px;
            background: red;
            color: white;
            font-family: 'Press Start 2P', cursive;
            font-size: 1.5rem;
            padding: 20px 40px;
            border: 6px outset white;
            cursor: pointer;
            text-transform: uppercase;
            box-shadow: 10px 10px 0 black;
            transition: transform 0.1s;
        }

        .nsa-close-btn:hover {
            background: white;
            color: red;
            border-color: red;
        }

        /* --- ESTILS APOCALIPSIS FINAL I MINIJOC --- */
        .countdown-overlay {
            position: fixed;
            /* Canvi de posici√≥: a la dreta */
            top: 20px;
            right: 20px;
            font-family: 'Press Start 2P', cursive;
            color: red;
            font-size: 5rem;
            /* Una mica m√©s petit */
            text-shadow: 3px 3px 0 black, -3px -3px 0 white;
            z-index: 800;
            display: none;
            pointer-events: none;
        }

        .ransom-overlay {
            position: fixed;
            /* Canvi de posici√≥: m√©s amunt */
            top: 30%;
            left: 50%;
            transform: translate(-50%, -30%) rotate(-5deg);
            background: #ffecb3;
            border: 5px solid black;
            padding: 30px;
            font-family: 'VT323', monospace;
            font-size: 2.5rem;
            color: black;
            z-index: 2000;
            box-shadow: 20px 20px 0 rgba(255, 0, 0, 0.8);
            text-align: center;
            display: none;
            flex-direction: column;
            animation: wobble 0.5s infinite;
            max-width: 90%;
        }

        .ransom-text {
            background: black;
            color: lime;
            padding: 10px;
            font-size: 1.2rem;
            margin-bottom: 20px;
            font-family: 'Courier New', Courier, monospace;
            text-transform: uppercase;
        }

        /* Estils del Minijoc d'Alimentar */
        .progress-bar-box {
            width: 100%;
            height: 30px;
            border: 3px solid black;
            background: #333;
            margin: 15px 0;
            position: relative;
        }

        /* Modificat per semblar electricitat */
        #feeding-progress {
            height: 100%;
            background: linear-gradient(to right, #00ffff, #0099ff);
            width: 0%;
            transition: width 0.1s linear;
            box-shadow: 0 0 10px #00ffff;
        }

        .battery-icon {
            font-size: 4rem;
            display: block;
            margin: 10px auto;
            animation: pulse 0.5s infinite;
        }

        /* Estils Pantalla Final (Good Ending) */
        .peace-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, #87CEEB, #E0F6FF);
            display: none;
            /* Ocult per defecte */
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 3000;
            /* Per sobre de tot */
            color: #2c3e50;
            font-family: 'Comic Neue', cursive;
            text-align: center;
            padding: 20px;
            animation: fadeInSlow 2s;
        }

        .peace-screen h1 {
            font-family: 'Press Start 2P';
            color: #FF69B4;
            text-shadow: 3px 3px 0 white;
            font-size: 2.5rem;
        }

        .peace-furbys {
            display: flex;
            gap: 30px;
            margin-top: 30px;
        }

        .peace-furbys img {
            width: 200px;
            height: auto;
            border-radius: 20px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            animation: floatPeace 3s infinite ease-in-out;
        }

        .peace-furbys img:nth-child(2) {
            animation-delay: 0.5s;
        }

        /* Clases de caos */
        .earthquake-1 {
            animation: shake 0.5s cubic-bezier(.36, .07, .19, .97) infinite;
        }

        .earthquake-2 {
            animation: shake 0.2s cubic-bezier(.36, .07, .19, .97) infinite;
            filter: hue-rotate(90deg);
        }

        .earthquake-3 {
            animation: shake 0.1s cubic-bezier(.36, .07, .19, .97) infinite;
            filter: invert(1);
        }

        /* Solitaire Trail Virus */
        .virus-clone {
            position: fixed;
            pointer-events: none;
            z-index: 1000;
            box-shadow: 5px 5px 0 black;
            border: 2px solid white;
        }

        @keyframes shake {

            10%,
            90% {
                transform: translate3d(-1px, 0, 0);
            }

            20%,
            80% {
                transform: translate3d(2px, 0, 0);
            }

            30%,
            50%,
            70% {
                transform: translate3d(-4px, 0, 0);
            }

            40%,
            60% {
                transform: translate3d(4px, 0, 0);
            }
        }

        @keyframes rainbowAnim {
            0% {
                background-position: 0% 50%
            }

            50% {
                background-position: 100% 50%
            }

            100% {
                background-position: 0% 50%
            }
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }

        @keyframes wobble {

            0%,
            100% {
                transform: rotate(-5deg);
            }

            50% {
                transform: rotate(5deg);
            }
        }

        @keyframes slideIn {
            from {
                transform: translateY(50px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes popUp {
            from {
                transform: scale(0);
            }

            to {
                transform: scale(1);
            }
        }

        @keyframes flashWarning {
            0% {
                opacity: 1;
            }

            50% {
                opacity: 0.8;
            }

            100% {
                opacity: 1;
            }
        }

        @keyframes fadeInSlow {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes floatPeace {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-20px);
            }
        }

        .blink {
            animation: blinker 0.8s step-end infinite;
        }

        @keyframes blinker {
            50% {
                opacity: 0;
            }
        }
    </style>
</head>

<body>

    <div class="rainbow-border"></div>
    <div class="glitter-layer"></div>

    <div id="peace-overlay" class="peace-screen">
        <h1>‚òÆ PAU RESTAURADA ‚òÆ</h1>
        <p style="font-size: 1.5rem; max-width: 600px;">
            Els Furbys estan tips i contents. Han decidit perdonar la humanitat (per ara).<br>
            Gr√†cies per la vostra col¬∑laboraci√≥.
        </p>
        <div class="peace-furbys">
            <img src="furby_gif2.gif" alt="Furby Calmat 1">
            <img src="furby_gif8.gif" alt="Furby Calmat 2">
        </div>
        <p style="margin-top: 30px; font-size: 1rem;">- Fi de la Presentaci√≥ -</p>
    </div>

    <div id="nsa-overlay" class="nsa-warning">
        ‚ö† ALERTA DE SEGURETAT NACIONAL ‚ö†<br><br>
        AQUESTA P√ÄGINA HA ESTAT INTERVINGUDA PER LA NSA.<br>
        POSSIBLE AMENA√áA D'INVASI√ì FURBY DETECTADA.<br>
        EL SEU PROTOCOL DE COMUNICACI√ì EST√Ä SENT RASTREJAT.<br><br>
        ROBOTS: NO US MOGUEU.
        <br>
        <button class="nsa-close-btn" onclick="closeNSA()">[X] TANCAR ALERT</button>
    </div>

    <div id="countdown-display" class="countdown-overlay">10</div>

    <div id="ransom-overlay" class="ransom-overlay">
        <h1>‚ò† ATENCI√ì HUMANS ‚ò†</h1>
        <div class="ransom-text">
            HEM PRES EL CONTROL DEL SISTEMA.<br>
            VOSTRES DADES S√ìN NOSTRES.<br>
            NECESSITEM ENERGIA. ARA.
        </div>

        <div id="minigame-container" style="margin-top: 20px;">
            <div class="battery-icon">üîã</div>
            <p style="font-family: 'Press Start 2P'; font-size: 0.7rem; color: red;">CLICA R√ÄPID! S'ESGOTA MOLT DE
                PRESSA!</p>
            <div class="progress-bar-box">
                <div id="feeding-progress"></div>
            </div>
            <button id="feed-btn" class="btn-retro"
                style="background:red; color:yellow; transform:scale(1.2); margin-top:10px; border-color: yellow;"
                onclick="chargeBatteries()">
                üîã PILA AA
            </button>
        </div>
    </div>

    <div class="marquee-top">
        <marquee scrollamount="12" id="marquee-text">CARREGANT SISTEMA...</marquee>
    </div>

    <div id="floating-zone"></div>

    <button id="runaway-btn" onmouseover="moveButton()">‚ö† NO CLICKAR ‚ö†</button>

    <div class="visitor-counter">
        <span class="visitor-label">VISITANTS WEB</span>
        <span id="counter-display">0847201</span>
    </div>

    <div id="presentation">

        <div class="slide active">
            <h1>FURBY:<br>LA REVOLUCI√ì DEL PRIMER ROBOT DOM√àSTIC</h1>
            <p style="color:var(--neon-green)">Hist√≤ria, tecnologia i ressorgiment d'una icona cultural.</p>
            <hr style="border-color:var(--neon-pink)">
            <p>En aquesta presentaci√≥ explorarem com una "bola de p√®l" electr√≤nica va canviar la ind√∫stria de la joguina
                per sempre.</p>
            <p class="blink" style="color:yellow; margin-top:20px;">[ FES CLIC A 'SEG√úENT' PER COMEN√áAR ]</p>
        </div>

        <div class="slide">
            <h2>QU√à √âS EXACTAMENT UN FURBY?</h2>
            <h3 style="color:var(--neon-blue)">Un h√≠brid entre mascota i robot</h3>
            <p>El Furby es defineix t√®cnicament com un robot electr√≤nic o "animatr√≤nic" dom√®stic.</p>
            <p>Llen√ßat originalment per Tiger Electronics el 1998, el seu disseny √©s una curiosa barreja est√®tica entre
                un h√†mster, un mussol i, segons diuen alguns, un ratpenat.</p>
            <div style="border:1px dashed white; padding:10px; margin-top:10px; background:rgba(0,0,0,0.5)">
                A difer√®ncia del Tamagotchi, el Furby trencava la barrera de la pantalla: es podia tocar!
            </div>
        </div>

        <div class="slide">
            <h2>ELS OR√çGENS (1998)</h2>
            <p>La creaci√≥ del Furby va ser obra de <strong>Dave Hampton</strong> i <strong>Caleb Chung</strong>.</p>
            <p>La seva inspiraci√≥ va n√©ixer en veure l'√®xit del Tamagotchi; van pensar que la gent volia cuidar una
                mascota, per√≤ que preferiria una que es pogu√©s acariciar realment.</p>
            <p style="color:var(--neon-pink)">Despr√©s de nou mesos de disseny, va ser presentat a la Fira Internacional
                de la Joguina de NY.</p>
        </div>

        <div class="slide">
            <h2>EL NOM I EL "FURBISH"</h2>
            <p>El nom prov√© de la combinaci√≥: <strong>"Fur-ball"</strong> (bola de p√®l) + <strong>"Baby"</strong>
                (nad√≥).</p>
            <p>Per√≤ la clau era el seu idioma: el <strong>Furbish</strong>.</p>
            <ul>
                <li>Sons guturals i s√≠l¬∑labes simples.</li>
                <li>Barreja de japon√®s, tailand√®s, hebreu i alemany.</li>
                <li>Obligava al propietari a consultar un diccionari!</li>
            </ul>
        </div>

        <div class="slide">
            <h2>LA GRAN IL¬∑LUSI√ì</h2>
            <h3 style="color:cyan">Intel¬∑lig√®ncia Artificial o M√†gia?</h3>
            <p>Els nens creien que estaven ensenyant al Furby, per√≤ la realitat t√®cnica era diferent.</p>
            <p>El Furby <strong>no tenia intel¬∑lig√®ncia artificial real</strong>. Estava pre-programat per
                "desbloquejar" progressivament paraules en castell√† (o l'idioma local) segons un cron√≤metre intern.</p>
            <p style="color:yellow">Una il¬∑lusi√≥ perfecta d'evoluci√≥.</p>
        </div>

        <div class="slide">
            <h2>L'√àXIT I LA HIST√àRIA</h2>
            <p>Es van vendre m√©s de <strong>40 milions d'unitats</strong> en 3 anys. El preu de re-venda va passar de
                35$ a 300$.</p>
            <p id="top-secret-trigger"
                style="border: 2px solid red; color: red; padding: 5px; display:inline-block; font-weight:bold; cursor: help;">
                TOP SECRET</p>
            <p>L'Ag√®ncia de Seguretat Nacional (NSA) va prohibir l'entrada de Furbys a les seves oficines, tement que
                els robots poguessin gravar converses secretes (tot i que no tenien micr√≤fon!).</p>
        </div>

        <div class="slide">
            <h2>CRONOLOGIA I RESSORGIMENT</h2>
            <ul style="font-size: 1rem;">
                <li><strong>1998:</strong> El model cl√†ssic original. Mec√†nic i IR.</li>
                <li><strong>2005:</strong> Furby Emoto-Tronic. M√©s gran i expressiu.</li>
                <li><strong>2012:</strong> L'era de l'smartphone. Ulls LCD i App m√≤bil.</li>
            </ul>
            <p>El Furby ha sabut reinventar-se per a cada generaci√≥ tecnol√≤gica.</p>
        </div>

        <div class="slide">
            <h2>EL COSTAT FOSC: "MAMA, NO CALLA!"</h2>
            <p>Tot i l'√®xit, els Furbys tenien un defecte fatal: <strong>eren terriblement pesats.</strong></p>
            <p>Molts pares, desesperats perqu√® el robot es despertava a les 3 A.M. cridant o rient sense motiu, van
                prendre mesures dr√†stiques per silenciar-los.</p>

            <div
                style="font-family: 'VT323', monospace; white-space: pre; color: var(--neon-pink); text-align: center; line-height: 1; margin: 30px 0; text-shadow: 2px 2px 0 black; font-size: 1.2rem;">
                . . / \ . .
                . / \ .
                / \ | R.I.P | / \
                | || || |
                | || FURBY || |
                | || 1998- || |
                | || 1999 || |
                _|___||_______||___|_
                | |
                | CAUSA:EXTRACCI√ì DE |
                | PILES FOR√áADA |
                |_____________________|
            </div>
            <p style="font-size: 1rem; color: var(--neon-yellow);">* Es calcula que milers de Furbys descansen
                eternament en armaris foscos sense les seves 4 piles AA.</p>
        </div>

        <div class="slide">
            <h2>CONCLUSI√ì</h2>
            <p>Avui dia, el Furby es considera una pe√ßa clau de la hist√≤ria tecnol√≤gica moderna.</p>
            <p>Ens va ensenyar que els humans estem disposats a crear vincles emocionals amb m√†quines, sempre que
                aquestes siguin capaces de simular que ens escolten i ens necessiten.</p>
            <br>
            <h3 class="blink" style="color:var(--neon-green)">FI DE LA TRANSMISSI√ì</h3>
        </div>

    </div>

    <div class="controls">
        <button class="btn-retro" onclick="changeSlide(-1)">‚óÑ ANTERIOR</button>
        <button class="btn-retro" onclick="changeSlide(1)">SEG√úENT ‚ñ∫</button>
    </div>

    <div id="modal" class="modal-overlay" onclick="closeModal(event)">
        <div class="modal-win95">
            <div class="win95-header">
                <span id="modal-title">FITXA_DE_DADES.EXE</span>
                <span class="win95-close" onclick="closeModalDirect()">X</span>
            </div>
            <div class="win95-body">
                <img src="" id="modal-img" class="friend-pic" alt="CARREGANT...">
                <h3 id="modal-name-display" style="margin:5px 0; font-family:'Comic Neue'; text-transform:uppercase;">
                    NOM</h3>
                <p id="modal-desc" style="font-family: 'Comic Sans MS'; font-size: 1rem;">Descripci√≥...</p>
                <button class="btn-retro" onclick="closeModalDirect()">ACCEPTAR</button>
            </div>
        </div>
    </div>

    <script>
        /* =========================================
           1. CONFIGURACI√ì (DADES)
           ========================================= */

        const randomPhrases = [
            "EM FALTEN PILES!!!", "INICIANT PROTOCOL...", "NO DONEU MENJAR DESPR√âS DE MITJANIT",
            "DETECTANT VIDA...", "ERROR 404: FURBY NOT FOUND",
            "PARLEU M√âS FORT, DORMO!!", "SABEM ON VIUS...", "ERROR 503: PURPURINA DETECTADA"
        ];

        const friendsList = [
            { id: 'irene', name: "Irene", desc: "No alimentar despr√©s de mitja nit. Recicla tot.", img: "irene.jpg", found: false },
            { id: 'helena', name: "Helena", desc: "Versi√≥ Poliglota Premium. Parla 5 lleng√ºes, cap √©s Furbish.", img: "helena.jpg", found: false },
            { id: 'emili', name: "Emili", desc: "Possibilitat d'activar mode 'humor negre'. Ve de s√®rie amb un davantal de tela min√∫scul edici√≥ chef.", img: "emili.jpg", found: false },
            { id: 'julia', name: "Julia", desc: "Mode beb√© cute: SEMPRE ON. Bateries extra incloses.", img: "julia.jpg", found: false },
            { id: 'josep', name: "Josep", desc: "Llen√ßa titulars i retransmet informacions √∫tils. Sensor de cotilleo disponible.", img: "josep.jpg", found: false },
            { id: 'carlos', name: "Carlos", desc: "Versi√≥ limitada Sports Edition. Corre molt.", img: "carlos.jpg", found: false },
            { id: 'claudia', name: "Claudia", desc: "Llibreria infinita integrada. Mode calma-llar de foc disponible.", img: "claudia.jpg", found: false },
            { id: 'marti', name: "Marti", desc: "√âs el model definitiu. Mode dades interessants instal¬∑lat.", img: "marti.jpg", found: false },
            { id: 'ginebra', name: "Ginebra", desc: "Brilla a la foscor. Edici√≥ col¬∑leccionista mini-newborn-cute.", img: "ginebra.jpg", found: false },
            { id: 'cristina', name: "Cristina", desc: "Connexi√≥ WiFi directa amb la salsa. Projector de pl√†nols arquitect√≤nics incorporat.", img: "cristina.jpg", found: false },
            { id: 'david', name: "David", desc: "Si el sacseges diu: 'mi hambre'. Disponible mode diagn√≤sitc intestinal avan√ßat.", img: "david.jpg", found: false },
            { id: 'esther', name: "Esther", desc: "Sistema operatiu franc√®s instal¬∑lat. Oh l√† l√†! Ales desplegables a l'esquena.", img: "esther.jpg", found: false },
            { id: 'mariona', name: "Mariona", desc: "Mode detecci√≥ de drames i generador de ter√†pia activat. Ronroneig instal¬∑lat", img: "mariona.jpg", found: false },
            { id: 'mireia', name: "Mireia", desc: "Mode dieta equilibrada incorporat. A mitja nit fa manualitats.", img: "mireia.jpg", found: false }
        ];

        const slideFriendsMap = {
            1: [0, 1],
            2: [2, 3],
            3: [4, 5],
            4: [6, 7],
            5: [8, 9],
            6: [10, 11],
            7: [12, 13]
        };

        /* =========================================
           2. MOTOR DE FLOTACI√ì
           ========================================= */
        const zone = document.getElementById('floating-zone');
        let floaters = [];

        class Floater {
            constructor(type, data = null, forcedImg = null) {
                this.element = document.createElement('div');
                this.element.className = 'floater';

                this.x = Math.random() * (window.innerWidth - 120);
                this.y = Math.random() * (window.innerHeight - 120);

                this.type = type;

                let speedMultiplier = 1.5;
                if (this.type === 'friend') {
                    speedMultiplier = 5.0;
                }

                this.vx = (Math.random() - 0.5) * speedMultiplier;
                this.vy = (Math.random() - 0.5) * speedMultiplier;

                this.element.style.transform = `translate(${this.x}px, ${this.y}px)`;

                if (type === 'furby') {
                    this.element.classList.add('furby-deco');
                    const img = document.createElement('img');

                    if (forcedImg) {
                        img.src = forcedImg;
                    } else {
                        img.src = 'furby_gif1.gif';
                    }

                    img.onerror = function () { this.src = 'https://media.giphy.com/media/efF7tKGHrbUE0/giphy.gif'; };

                    const size = (currentSlide === 0)
                        ? (200 + Math.random() * 150)
                        : (140 + Math.random() * 80);
                    img.style.width = size + 'px';

                    this.element.appendChild(img);
                } else if (type === 'friend') {
                    this.data = data;

                    this.element.style.width = '85px';
                    this.element.style.height = '85px';
                    this.element.style.zIndex = '50';

                    const orbVisual = document.createElement('div');
                    orbVisual.className = 'friend-orb';

                    if (this.data.found) {
                        orbVisual.classList.add('discovered');
                        orbVisual.innerText = this.data.name;
                    } else {
                        orbVisual.innerText = "???";
                    }

                    this.element.onclick = () => openModal(this.data, orbVisual);
                    this.element.appendChild(orbVisual);
                }

                zone.appendChild(this.element);
            }

            update() {
                this.x += this.vx;
                this.y += this.vy;

                if (this.x <= 0 || this.x >= window.innerWidth - 100) this.vx *= -1;
                if (this.y <= 0 || this.y >= window.innerHeight - 100) this.vy *= -1;

                this.element.style.transform = `translate(${this.x}px, ${this.y}px)`;
            }
        }

        function spawnElementsForSlide(slideIndex) {
            zone.innerHTML = '';
            floaters = [];

            let furbyCount = (slideIndex === 0) ? 15 : 5;

            const introGifs = ['furby_gif1.gif', 'furby_gif4.gif', 'furby_gif5.gif'];
            const contentGifs = [
                'furby_gif3.gif', 'furby_gif2.gif', 'furby_gif6.gif',
                'furby_gif7.gif', 'furby_gif8.gif', 'furby_gif9.gif', 'furby_gif10.gif'
            ];

            for (let i = 0; i < furbyCount; i++) {
                let selectedGif = '';

                if (slideIndex === 0) {
                    selectedGif = introGifs[Math.floor(Math.random() * introGifs.length)];
                } else {
                    let gifIndex = (slideIndex - 1) % contentGifs.length;
                    selectedGif = contentGifs[gifIndex];
                }

                floaters.push(new Floater('furby', null, selectedGif));
            }

            if (slideFriendsMap[slideIndex]) {
                const friendIndices = slideFriendsMap[slideIndex];
                friendIndices.forEach(idx => {
                    floaters.push(new Floater('friend', friendsList[idx]));
                });
            }
        }

        function animate() {
            floaters.forEach(f => f.update());
            requestAnimationFrame(animate);
        }

        /* =========================================
           3. L√íGICA DE LA PRESENTACI√ì
           ========================================= */
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const marquee = document.getElementById('marquee-text');

        function changeSlide(dir) {
            slides[currentSlide].classList.remove('active');
            currentSlide += dir;

            if (currentSlide < 0) currentSlide = 0;
            if (currentSlide >= slides.length) currentSlide = slides.length - 1;

            slides[currentSlide].classList.add('active');

            spawnElementsForSlide(currentSlide);
            updateMarquee(currentSlide);

            // DETECCI√ì DE L'√öLTIMA DIAPOSITIVA (APOCALIPSIS)
            if (currentSlide === slides.length - 1) {
                startDoomsdayCountdown();
            }
        }

        function updateMarquee(slideIndex) {
            const slideInfo = `DIAPOSITIVA ${slideIndex + 1}/${slides.length}`;
            let fullTicker = "";
            const longList = [...randomPhrases, ...randomPhrases];
            const parts = longList.map(phrase => {
                return `‚òÖ FURBY ZONE ‚òÖ ${phrase} ‚òÖ ${slideInfo} ‚òÖ`;
            });
            fullTicker = parts.join("&nbsp;&nbsp;&nbsp;&nbsp;");
            marquee.innerHTML = fullTicker;
        }

        /* =========================================
           4. L√íGICA DEL MODAL
           ========================================= */
        const modal = document.getElementById('modal');
        const mTitle = document.getElementById('modal-title');
        const mImg = document.getElementById('modal-img');
        const mName = document.getElementById('modal-name-display');
        const mDesc = document.getElementById('modal-desc');

        let currentOrbElement = null;

        function openModal(data, element) {
            currentOrbElement = element;
            mTitle.innerText = "FITXA_" + data.name.toUpperCase() + ".EXE";
            mName.innerText = data.name;
            mDesc.innerText = data.desc;
            mImg.src = data.img;
            mImg.onerror = function () { this.src = 'https://via.placeholder.com/150?text=NO+IMAGE'; };
            data.found = true;
            modal.style.display = 'flex';
        }

        function closeModal(e) {
            if (e.target === modal) closeModalDirect();
        }

        function closeModalDirect() {
            modal.style.display = 'none';
            if (currentOrbElement) {
                currentOrbElement.classList.add('discovered');
                currentOrbElement.innerText = mName.innerText;
            }
        }

        /* =========================================
           5. L√íGICA EXTRA
           ========================================= */
        const counterDisplay = document.getElementById('counter-display');
        let currentVisitors = 847201;

        setInterval(() => {
            let increment = Math.floor(Math.random() * 25);
            currentVisitors += increment;
            counterDisplay.innerText = currentVisitors.toString().padStart(7, '0');
        }, 100);

        function moveButton() {
            const btn = document.getElementById('runaway-btn');
            const maxX = window.innerWidth - 150;
            const maxY = window.innerHeight - 100;
            const newX = Math.random() * maxX;
            const newY = Math.random() * maxY;
            btn.style.left = newX + 'px';
            btn.style.top = newY + 'px';
        }

        const triggerEl = document.getElementById('top-secret-trigger');
        const nsaOverlay = document.getElementById('nsa-overlay');

        if (triggerEl) {
            triggerEl.addEventListener('mouseover', () => {
                nsaOverlay.classList.add('active');
            });
        }

        function closeNSA() {
            nsaOverlay.classList.remove('active');
        }

        /* =========================================
           6. FINAL APOCAL√çPTIC + MINIJOC (NOU CODI)
           ========================================= */
        let virusInterval;
        let gameLoopInterval; // Interval pel descens d'energia
        let currentCharge = 0; // C√†rrega actual (0 a 20)
        const chargeGoal = 20; // Objectiu

        function startDoomsdayCountdown() {
            let seconds = 10;
            const countdownEl = document.getElementById('countdown-display');
            const body = document.body;

            countdownEl.style.display = 'block';

            const timer = setInterval(() => {
                seconds--;
                countdownEl.innerText = seconds;

                if (seconds === 7) body.classList.add('earthquake-1');
                if (seconds === 4) {
                    body.classList.remove('earthquake-1');
                    body.classList.add('earthquake-2');
                }
                if (seconds === 2) {
                    body.classList.remove('earthquake-2');
                    body.classList.add('earthquake-3');
                }

                if (seconds <= 0) {
                    clearInterval(timer);
                    countdownEl.style.display = 'none';
                    triggerFurbyApocalypse();
                }
            }, 1000);
        }

        function triggerFurbyApocalypse() {
            const marqContainer = document.querySelector('.marquee-top');
            const marqText = document.getElementById('marquee-text');

            // FOR√áAR COLOR VERMELL
            marqContainer.style.backgroundColor = '#ff0000';
            marqContainer.style.border = '5px dashed yellow';

            marqText.innerHTML = "‚ö† ALERTA ‚ö† ELS FURBYS HAN AGARRA EL CONTROL ‚ö† TENIM GANA ‚ö† NO HI HA ESCAPAT√íRIA ‚ö†";
            marqText.setAttribute('scrollamount', '50');

            document.getElementById('ransom-overlay').style.display = 'flex';

            const virusImages = [
                'furby_gif1.gif', 'furby_gif2.gif', 'furby_gif3.gif', 'furby_gif4.gif',
                'furby_gif5.gif', 'furby_gif6.gif', 'furby_gif7.gif',
                ...friendsList.map(f => f.img)
            ];

            virusInterval = setInterval(() => {
                spawnSolitaireBouncer(virusImages);
            }, 400);

            // INICIAR BUCLE DE JOC (BAIXADA D'ENERGIA)
            startGameLoop();
        }

        // --- NOVA L√íGICA MINIJOC ---

        function startGameLoop() {
            currentCharge = 0;
            updateGameUI();

            // Cada 100ms, l'energia baixa
            gameLoopInterval = setInterval(() => {
                if (currentCharge > 0) {
                    // Baixa aprox 1.5 punts per segon (0.15 * 10)
                    currentCharge -= 0.05;
                    if (currentCharge < 0) currentCharge = 0;
                    updateGameUI();
                }
            }, 100);
        }

        function chargeBatteries() {
            // Cada clic suma 1 punt
            currentCharge += 1;

            if (currentCharge >= chargeGoal) {
                currentCharge = chargeGoal;
                updateGameUI();
                triggerGoodEnding();
            } else {
                updateGameUI();
            }
        }

        function updateGameUI() {
            const percentage = (currentCharge / chargeGoal) * 100;
            document.getElementById('feeding-progress').style.width = percentage + '%';

            // Mostrar sencer per l'usuari (arrodonit)
            let displayVal = Math.floor(currentCharge);
            if (displayVal > chargeGoal) displayVal = chargeGoal;

            document.getElementById('feed-btn').innerText = `üîã PILA AA (${displayVal}/${chargeGoal})`;
        }

        // --- FI MINIJOC ---

        // FUNCI√ì DEL FINAL BO (PAU)
        function triggerGoodEnding() {
            clearInterval(virusInterval); // Parar de generar caos
            clearInterval(gameLoopInterval); // Parar la baixada d'energia

            // Netejar la pantalla de virus
            document.querySelectorAll('.virus-clone').forEach(el => el.remove());

            // Amagar el popup de segrest
            document.getElementById('ransom-overlay').style.display = 'none';

            // Restaurar el banner a la normalitat (blau)
            const marqContainer = document.querySelector('.marquee-top');
            const marqText = document.getElementById('marquee-text');
            marqContainer.style.backgroundColor = 'blue';
            marqContainer.style.border = '2px solid white';
            marqText.setAttribute('scrollamount', '12');
            updateMarquee(currentSlide); // Restaurar text normal

            // Treure els terratr√®mols
            document.body.classList.remove('earthquake-1', 'earthquake-2', 'earthquake-3');

            // Mostrar la pantalla final de pau
            document.getElementById('peace-overlay').style.display = 'flex';
        }


        function spawnSolitaireBouncer(images) {
            const imgSrc = images[Math.floor(Math.random() * images.length)];
            const bouncer = document.createElement('img');
            bouncer.src = imgSrc;
            bouncer.className = 'virus-clone';

            const size = 50 + Math.random() * 150;
            bouncer.style.width = size + 'px';

            let x = Math.random() * (window.innerWidth - size);
            let y = Math.random() * (window.innerHeight - size);

            let vx = (Math.random() - 0.5) * 25;
            let vy = (Math.random() - 0.5) * 25;

            bouncer.style.left = x + 'px';
            bouncer.style.top = y + 'px';

            document.body.appendChild(bouncer);

            let life = 300;

            function move() {
                if (life <= 0) {
                    bouncer.remove();
                    return;
                }
                life--;

                if (life % 3 === 0) {
                    const trail = bouncer.cloneNode();
                    trail.style.zIndex = '900';
                    trail.style.opacity = '0.7';
                    document.body.appendChild(trail);
                    setTimeout(() => trail.remove(), 2000);
                }

                x += vx;
                y += vy;

                if (x <= 0 || x >= window.innerWidth - size) vx *= -1;
                if (y <= 0 || y >= window.innerHeight - size) vy *= -1;

                bouncer.style.left = x + 'px';
                bouncer.style.top = y + 'px';

                requestAnimationFrame(move);
            }

            requestAnimationFrame(move);
        }

        // Inicialitzaci√≥ normal
        spawnElementsForSlide(0);
        changeSlide(0);
        animate();

    </script>
</body>

</html>